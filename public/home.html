<!DOCTYPE html>
<html lang="en" ng-app="app" class="no-js" >
	<head>
		<meta charset="utf-8" >
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Bluemagma MEAN Stack HR App</title>
	</head>
	<body>
		<author-names></author-names>		
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.js"></script>
		<script>
			'use strict';
			var app = angular.module('app', []);

			app.directive('authorNames', function($compile) {
				return {
					//limit the directive to only be used as an element
					restrict: 'E', 
					//define the controller
					controller: function($scope) { 
						//populate people array with person objects
						$scope.people = [{ 
							firstName: 'Colin',
							lastName: 'Ihrig'
						},
						{
							firstName: 'Adam',
							lastName: 'Bretz'
						}
						];
					},
					//register DOM listeners
					link: function(scope,element,attrs,controller,transclude) { 
						//define html template to be used within element
						// 
						var template = scope.people.map(function(person) {
							var str = '<div>' + person.firstName +
										' ' + person.lastName + '</div>';
										return str;
						}).join('');
						//compile the template, output html
						var newElement = $compile(template)(scope);
						//argument of the link function, fill the custom directive with the 
						//html
						element.replaceWith(newElement);
					}
				};
			});
		</script>
	</body>
</html>